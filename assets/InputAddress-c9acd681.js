import{A as d,d as w,q as v,r as A,o as i,c as p,a as C,b as j,u as $,F as x,k as B,t as y,x as E,_ as O}from"./index-eb5b4f51.js";import{l as P}from"./lodash-14e13292.js";const h={list:d+"/routes",delete:d+"/routes",register:d+"/routes"},f=localStorage.getItem("__token");async function F(){const n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}};let t=null;return await fetch(h.list,n).then(e=>{t=e.json()}),t}async function J(n){const t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f},body:JSON.stringify(n)};let e=null;return await fetch(h.register,t).then(o=>{e=o.json()}),e}async function K(n){const t={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}};let e=null;return await fetch(`${h.delete}/${n}`,t).then(o=>{e=o.json()}),e}const m={host:"https://google.serper.dev/search",key:"4597d700634fd111c84687b9570691068b2698ee",type:"application/json"};async function T(n){const t={method:"POST",headers:{"X-API-KEY":m.key,"Content-Type":"application/json"},body:JSON.stringify(n)};let e=null;return await fetch(m.host,t).then(o=>{e=o.json()}),e}const V={class:""},S={class:"relative"},q=["onClick"],N=w({__name:"InputAddress",props:{label:{type:String,default:""},onlyaddress:{type:Boolean,default:!1},nomaps:{type:Boolean,default:!1}},emits:["selected"],setup(n,{emit:t}){const e=n,o=t,l=v(""),r=v(!1),c=v([]),g=P.debounce(async()=>{if(e.nomaps)o("selected",{label:l.value});else{r.value=!1,c.value=[];const s=await T({q:l.value,gl:"pe",hl:"en",num:20,autocorrect:!0,page:1,type:"maps"});c.value=s.places,r.value=!0}},500),_=()=>{r.value=c.value.length},b=s=>{r.value=!1,e.onlyaddress&&!s.address?l.value=`${s.title}`:l.value=`${s.title} ${s.address?"- "+s.address:""}`,o("selected",{position:s,label:l.value})};return(s,u)=>{const k=A("VaInput");return i(),p("div",V,[C("div",S,[j(k,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=a=>l.value=a),label:s.$props.label,placeholder:"Escribe la direcciÃ³n",onInput:u[1]||(u[1]=a=>$(g)()),onClick:_},null,8,["modelValue","label"]),r.value?(i(),p("div",{key:0,class:"i-filter-results bg-white w-full shadow bg-blue-100",onMouseleave:u[2]||(u[2]=a=>r.value=!1)},[(i(!0),p(x,null,B(c.value,(a,I)=>(i(),p("p",{key:I,class:"text-xs hover:bg-primary hover:text-white cursor-pointer",onClick:D=>b(a)},y(a.title)+" "+y(a.address&&"- "+a.address),9,q))),128))],32)):E("",!0)])])}}});const L=O(N,[["__file","C:/Users/ID-04/Documents/Main/vuestic-impala/src/pages/oportunities/components/InputAddress.vue"]]);export{L as I,K as d,F as g,J as n};
//# sourceMappingURL=InputAddress-c9acd681.js.map
