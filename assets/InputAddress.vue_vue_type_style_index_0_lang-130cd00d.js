import{A as p,d as C,h,r as j,o as i,c as d,a as A,b as $,m as B,F as E,n as I,t as y,k as O}from"./index-f95e1e62.js";import{l as P}from"./lodash-14854b8b.js";const v={list:p+"/routes",delete:p+"/routes",register:p+"/routes"},f=localStorage.getItem("__token");async function R(){const n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}};let t=null;return await fetch(v.list,n).then(e=>{t=e.json()}),t}async function D(n){const t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f},body:JSON.stringify(n)};let e=null;return await fetch(v.register,t).then(o=>{e=o.json()}),e}async function F(n){const t={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}};let e=null;return await fetch(`${v.delete}/${n}`,t).then(o=>{e=o.json()}),e}const g={host:"https://google.serper.dev/search",key:"4597d700634fd111c84687b9570691068b2698ee",type:"application/json"};async function T(n){const t={method:"POST",headers:{"X-API-KEY":g.key,"Content-Type":"application/json"},body:JSON.stringify(n)};let e=null;return await fetch(g.host,t).then(o=>{e=o.json()}),e}const V={class:""},S={class:"relative"},x=["onClick"],J=C({__name:"InputAddress",props:{label:{type:String,default:""},onlyaddress:{type:Boolean,default:!1},nomaps:{type:Boolean,default:!1}},emits:["selected"],setup(n,{emit:t}){const e=n,o=t,l=h(""),r=h(!1),c=h([]),m=P.debounce(async()=>{if(e.nomaps)o("selected",{label:l.value});else{r.value=!1,c.value=[];const s=await T({q:l.value,gl:"pe",hl:"en",num:20,autocorrect:!0,page:1,type:"maps"});c.value=s.places,r.value=!0}},500),_=()=>{r.value=c.value.length},b=s=>{r.value=!1,e.onlyaddress&&!s.address?l.value=`${s.title}`:l.value=`${s.title} ${s.address?"- "+s.address:""}`,o("selected",{position:s,label:l.value})};return(s,u)=>{const k=j("VaInput");return i(),d("div",V,[A("div",S,[$(k,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=a=>l.value=a),label:s.$props.label,placeholder:"Escribe la direcciÃ³n",onInput:u[1]||(u[1]=a=>B(m)()),onClick:_},null,8,["modelValue","label"]),r.value?(i(),d("div",{key:0,class:"i-filter-results bg-white w-full shadow bg-blue-100",onMouseleave:u[2]||(u[2]=a=>r.value=!1)},[(i(!0),d(E,null,I(c.value,(a,w)=>(i(),d("p",{key:w,class:"text-xs hover:bg-primary hover:text-white cursor-pointer",onClick:q=>b(a)},y(a.title)+" "+y(a.address&&"- "+a.address),9,x))),128))],32)):O("",!0)])])}}});export{J as _,F as d,R as g,D as n};
//# sourceMappingURL=InputAddress.vue_vue_type_style_index_0_lang-130cd00d.js.map
