{"version":3,"file":"InputAddress.vue_vue_type_style_index_0_lang-d56d4b40.js","sources":["../../src/core/requests/Routes.ts","../../src/core/requests/Address.ts","../../src/pages/oportunities/components/InputAddress.vue"],"sourcesContent":["import { API } from '../constants'\n\nconst services = {\n  list: API + '/routes',\n  delete: API + '/routes',\n  register: API + '/routes',\n}\n\nconst _token = localStorage.getItem('__token')\n\nexport async function getAllRoutes() {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n    // body: JSON.stringify({ name: 'Vue 3 POST Request Example' }),\n  }\n  let res = null\n\n  await fetch(services.list, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n\nexport async function newRoute(body: any) {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n    body: JSON.stringify(body),\n  }\n  let res = null\n\n  await fetch(services.register, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n\nexport async function deleteRoute(id: any) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n  }\n  let res = null\n\n  await fetch(`${services.delete}/${id}`, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n","import { SerperInput } from './types/_Address'\n\nconst serperKeys = {\n  host: 'https://google.serper.dev/search',\n  key: '4597d700634fd111c84687b9570691068b2698ee',\n  type: 'application/json',\n}\n\nexport async function getPlaces(body: SerperInput): Promise<any> {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'X-API-KEY': serperKeys.key,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  }\n  let res = null\n\n  await fetch(serperKeys.host, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n","<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { debounce } from 'lodash'\nimport { getPlaces } from '../../../core/requests/Address'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    default: '',\n  },\n  onlyaddress: {\n    type: Boolean,\n    default: false,\n  },\n  nomaps: {\n    type: Boolean,\n    default: false,\n  },\n})\n\nconst emit = defineEmits(['selected'])\n\nconst input = ref('')\nconst showPlaces = ref(false)\nconst places: any = ref([])\n\nconst onchange = debounce(async () => {\n  if (!props.nomaps) {\n    showPlaces.value = false\n    places.value = []\n    const _places: any = await getPlaces({\n      q: input.value,\n      gl: 'pe',\n      hl: 'en',\n      num: 20,\n      autocorrect: true,\n      page: 1,\n      type: 'maps',\n    })\n\n    places.value = _places.places\n    showPlaces.value = true\n  } else {\n    emit('selected', {\n      // position: item,\n      label: input.value,\n    })\n  }\n}, 500)\n\nconst checkPlaces = () => {\n  showPlaces.value = places.value.length\n}\n\nconst selectPlace = (item: any) => {\n  showPlaces.value = false\n  if (props.onlyaddress && !item.address) {\n    input.value = `${item.title}`\n  } else {\n    input.value = `${item.title} ${item.address ? '- ' + item.address : ''}`\n  }\n  emit('selected', {\n    position: item,\n    label: input.value,\n  })\n}\n</script>\n\n<template>\n  <div class=\"\">\n    <div class=\"relative\">\n      <VaInput\n        v-model=\"input\"\n        :label=\"$props.label\"\n        placeholder=\"Escribe la direcciÃ³n\"\n        @input=\"onchange()\"\n        @click=\"checkPlaces\"\n      />\n\n      <div\n        v-if=\"showPlaces\"\n        class=\"i-filter-results bg-white w-full shadow bg-blue-100\"\n        @mouseleave=\"showPlaces = false\"\n      >\n        <p\n          v-for=\"(item, index) in places\"\n          :key=\"index\"\n          class=\"text-xs hover:bg-primary hover:text-white cursor-pointer\"\n          @click=\"selectPlace(item)\"\n        >\n          {{ item.title }} {{ item.address && '- ' + item.address }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.i-filter-results {\n  position: absolute;\n  top: 46px;\n  left: 0;\n  max-height: 70px;\n  overflow-y: scroll;\n  padding: 5px 6px;\n  z-index: 9;\n}\n</style>\n"],"names":["services","API","_token","getAllRoutes","requestOptions","res","response","newRoute","body","deleteRoute","id","serperKeys","getPlaces","props","__props","emit","__emit","input","ref","showPlaces","places","onchange","debounce","_places","checkPlaces","selectPlace","item"],"mappings":"gKAEA,MAAMA,EAAW,CACf,KAAMC,EAAM,UACZ,OAAQA,EAAM,UACd,SAAUA,EAAM,SAClB,EAEMC,EAAS,aAAa,QAAQ,SAAS,EAE7C,eAAsBC,GAAe,CACnC,MAAMC,EAAiB,CACrB,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,cAAe,UAAYF,CAC7B,CAAA,EAGF,IAAIG,EAAM,KAEV,aAAM,MAAML,EAAS,KAAMI,CAAc,EAAE,KAAME,GAAa,CAC5DD,EAAMC,EAAS,MAAK,CACrB,EAEMD,CACT,CAEA,eAAsBE,EAASC,EAAW,CACxC,MAAMJ,EAAiB,CACrB,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,UAAYF,CAC7B,EACA,KAAM,KAAK,UAAUM,CAAI,CAAA,EAE3B,IAAIH,EAAM,KAEV,aAAM,MAAML,EAAS,SAAUI,CAAc,EAAE,KAAME,GAAa,CAChED,EAAMC,EAAS,MAAK,CACrB,EAEMD,CACT,CAEA,eAAsBI,EAAYC,EAAS,CACzC,MAAMN,EAAiB,CACrB,OAAQ,SACR,QAAS,CACP,eAAgB,mBAChB,cAAe,UAAYF,CAC7B,CAAA,EAEF,IAAIG,EAAM,KAEJ,aAAA,MAAM,GAAGL,EAAS,MAAM,IAAIU,CAAE,GAAIN,CAAc,EAAE,KAAME,GAAa,CACzED,EAAMC,EAAS,MAAK,CACrB,EAEMD,CACT,CC3DA,MAAMM,EAAa,CACjB,KAAM,mCACN,IAAK,2CACL,KAAM,kBACR,EAEA,eAAsBC,EAAUJ,EAAiC,CAC/D,MAAMJ,EAAiB,CACrB,OAAQ,OACR,QAAS,CACP,YAAaO,EAAW,IACxB,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAUH,CAAI,CAAA,EAE3B,IAAIH,EAAM,KAEV,aAAM,MAAMM,EAAW,KAAMP,CAAc,EAAE,KAAME,GAAa,CAC9DD,EAAMC,EAAS,MAAK,CACrB,EAEMD,CACT,qOCnBA,MAAMQ,EAAQC,EAeRC,EAAOC,EAEPC,EAAQC,EAAI,EAAE,EACdC,EAAaD,EAAI,EAAK,EACtBE,EAAcF,EAAI,CAAA,CAAE,EAEpBG,EAAWC,EAAAA,SAAS,SAAY,CAChC,GAACT,EAAM,OAgBTE,EAAK,WAAY,CAEf,MAAOE,EAAM,KAAA,CACd,MAnBgB,CACjBE,EAAW,MAAQ,GACnBC,EAAO,MAAQ,GACT,MAAAG,EAAe,MAAMX,EAAU,CACnC,EAAGK,EAAM,MACT,GAAI,KACJ,GAAI,KACJ,IAAK,GACL,YAAa,GACb,KAAM,EACN,KAAM,MAAA,CACP,EAEDG,EAAO,MAAQG,EAAQ,OACvBJ,EAAW,MAAQ,EAAA,GAOpB,GAAG,EAEAK,EAAc,IAAM,CACbL,EAAA,MAAQC,EAAO,MAAM,MAAA,EAG5BK,EAAeC,GAAc,CACjCP,EAAW,MAAQ,GACfN,EAAM,aAAe,CAACa,EAAK,QACvBT,EAAA,MAAQ,GAAGS,EAAK,KAAK,GAErBT,EAAA,MAAQ,GAAGS,EAAK,KAAK,IAAIA,EAAK,QAAU,KAAOA,EAAK,QAAU,EAAE,GAExEX,EAAK,WAAY,CACf,SAAUW,EACV,MAAOT,EAAM,KAAA,CACd,CAAA"}