import{A as f,d as j,r as y,b as C,c,e as p,h as $,f as A,k as O,F as T,l as B,t as v,i as P}from"./index-5c8bf84e.js";import{l as E}from"./lodash-2dc3c718.js";const d={list:f+"/routes",delete:f+"/routes",register:f+"/routes"},h=localStorage.getItem("__token");async function R(){const s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};let t=null;return await fetch(d.list,s).then(e=>{t=e.json()}),t}async function J(s){const t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h},body:JSON.stringify(s)};let e=null;return await fetch(d.register,t).then(n=>{e=n.json()}),e}async function D(s,t){const e={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h},body:JSON.stringify(s)};let n=null;return await fetch(`${d.register}/${t}`,e).then(a=>{n=a.json()}),n}async function F(s){const t={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};let e=null;return await fetch(`${d.delete}/${s}`,t).then(n=>{e=n.json()}),e}const g={host:"https://google.serper.dev/search",key:"4597d700634fd111c84687b9570691068b2698ee",type:"application/json"};async function I(s){const t={method:"POST",headers:{"X-API-KEY":g.key,"Content-Type":"application/json"},body:JSON.stringify(s)};let e=null;return await fetch(g.host,t).then(n=>{e=n.json()}),e}const S={class:""},V={class:"relative"},q=["onClick"],K=j({__name:"InputAddress",props:{label:{type:String,default:""},onlyaddress:{type:Boolean,default:!1},nomaps:{type:Boolean,default:!1}},emits:["selected"],setup(s,{emit:t}){const e=s,n=t,a=y(""),r=y(!1),i=y([]),m=E.debounce(async()=>{if(e.nomaps)n("selected",{label:a.value});else{r.value=!1,i.value=[];const o=await I({q:a.value,gl:"pe",hl:"en",num:20,autocorrect:!0,page:1,type:"maps"});i.value=o.places,r.value=!0}},500),_=()=>{r.value=i.value.length},b=o=>{r.value=!1,e.onlyaddress&&!o.address?a.value=`${o.title}`:a.value=`${o.title} ${o.address?"- "+o.address:""}`,n("selected",{position:o,label:a.value})};return(o,u)=>{const k=C("VaInput");return c(),p("div",S,[$("div",V,[A(k,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=l=>a.value=l),label:o.$props.label,placeholder:"Escribe la direcciÃ³n",onInput:u[1]||(u[1]=l=>O(m)()),onClick:_},null,8,["modelValue","label"]),r.value?(c(),p("div",{key:0,class:"i-filter-results bg-white w-full shadow bg-blue-100",onMouseleave:u[2]||(u[2]=l=>r.value=!1)},[(c(!0),p(T,null,B(i.value,(l,w)=>(c(),p("p",{key:w,class:"text-xs hover:bg-primary hover:text-white cursor-pointer",onClick:x=>b(l)},v(l.title)+" "+v(l.address&&"- "+l.address),9,q))),128))],32)):P("",!0)])])}}});export{K as _,F as d,R as g,J as n,D as u};
//# sourceMappingURL=InputAddress.vue_vue_type_style_index_0_lang-f9f1dae0.js.map
