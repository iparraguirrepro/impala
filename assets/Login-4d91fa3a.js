import{d as k,q as w,J as C,l as L,p as S,x as B,r as l,o as A,g as N,w as i,a1 as _,a as t,b as s,u as n,ab as U,f as q,ac as E}from"./index-4f9ea22f.js";import{v as m}from"./utils-17deefef.js";import{b as F}from"./Auth-f63ad6bc.js";const R=t("img",{src:E,class:"max-w-[120px] mb-5",alt:"Logo"},null,-1),j={class:"font-bold mb-4 uppercase sm:normal-case hidden sm:b lock flex gap-2"},z=t("span",{class:"pl-1 relative top-0.5"},"Acceso al sistema",-1),D=t("p",{class:"text-xs font-medium mb-6 mt-2 sm:-mt-3"},"Recuerda mantener tus credenciales en privado",-1),J={class:"auth-layout__options flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4"},T={class:"flex justify-center"},H=k({__name:"Login",setup(M){const{isValid:b,validate:v}=w("form"),{push:V}=C(),{init:g,notify:x}=L(),c=S(!1),e=B({email:"admin@admin.com",password:"123456",keepLoggedIn:!1}),u=async()=>{if(v()){c.value=!0;const r=await F({password:e.password,username:e.email});r.status?(localStorage.setItem("__token",r.token),localStorage.setItem("__user",JSON.stringify(r.user)),g({message:"Iniciaste sesión correctamente",color:"success"}),V({name:"Cotizaciones"})):x({message:"Error al iniciar sesión",color:"danger"}),c.value=!1}};return(r,o)=>{const d=l("VaIcon"),p=l("VaInput"),y=l("VaValue"),I=l("VaButton"),h=l("VaForm");return A(),N(h,{ref:"form",class:"m-auto",style:{width:"300px"},onSubmit:_(u,["prevent"])},{default:i(()=>[R,t("h2",j,[s(d,{name:"mso-lock",size:"19px",class:"cursor-pointer",color:"secondary"}),z]),D,s(p,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=a=>e.email=a),rules:[n(m).required,n(m).email],class:"mb-4",label:"Usuario",type:"email",clearable:"","immediate-validation":"",placeholder:"Escribe tu usuario o correo electrónico"},null,8,["modelValue","rules"]),s(y,{"default-value":!1},{default:i(a=>[s(p,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=f=>e.password=f),rules:[n(m).required],type:a.value?"text":"password",class:"mb-4",label:"Contraseña",placeholder:"Escribe tu contraseña",clearable:"","immediate-validation":"",onClickAppendInner:_(f=>a.value=!a.value,["stop"])},{appendInner:i(()=>[s(d,{name:a.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),t("div",J,[s(n(U),{modelValue:e.keepLoggedIn,"onUpdate:modelValue":o[2]||(o[2]=a=>e.keepLoggedIn=a),class:"mb-2 sm:mb-0",label:"Recordar credenciales"},null,8,["modelValue"])]),t("div",T,[s(I,{class:"w-full py-1",type:"submit",loading:c.value,disabled:!n(b),onClick:u},{default:i(()=>[q(" Iniciar Sesión ")]),_:1},8,["loading","disabled"])])]),_:1},8,["onSubmit"])}}});export{H as default};
//# sourceMappingURL=Login-4d91fa3a.js.map
