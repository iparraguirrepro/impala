{"version":3,"file":"ViewOrder-6daaa9bb.js","sources":["../../src/core/requests/OrdersInteractions.ts","../../src/pages/orders/pages/ViewOrder.vue"],"sourcesContent":["import { API } from '../constants'\n\nconst services = {\n  list: API + '/orders/interactions',\n  byid: API + '/orders/interactions',\n  delete: API + '/orders/interactions',\n  register: API + '/orders/interactions',\n}\n\nconst _token = localStorage.getItem('__token')\n\nexport async function getAllOrderInteractions(id: number) {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n  }\n  let res = null\n\n  await fetch(`${services.list}/${id}`, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n\nexport async function deleteOrderInteraction(id: any) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n  }\n  let res = null\n\n  await fetch(`${services.list}/${id}`, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n\nexport async function newOrderInteraction(body: any) {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + _token,\n    },\n    body: JSON.stringify(body),\n  }\n  let res = null\n\n  await fetch(services.register, requestOptions).then((response) => {\n    res = response.json()\n  })\n\n  return res\n}\n","<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue'\nimport { useI18n } from 'vue-i18n'\nimport { useToast, VaIcon } from 'vuestic-ui'\nimport {\n  deleteOrder,\n  enableOrder,\n  endOrder,\n  getOrderById,\n  setExpenseEmployee,\n  setVehicleDriver,\n} from '../../../core/requests/Orders'\nimport { useRoute, useRouter } from 'vue-router'\nimport { format } from 'date-fns'\nimport {\n  deleteOrderInteraction,\n  getAllOrderInteractions,\n  newOrderInteraction,\n} from '../../../core/requests/OrdersInteractions'\nimport Employee from '../../../core/requests/Employee'\n\nconst profileTabs = ref(0)\nconst showConfirm: any = ref(null)\nconst router = useRouter()\nconst { t } = useI18n()\nconst order: any = ref(null)\nconst comment = ref('')\nconst route = useRoute()\nconst interactions: any = ref([])\nconst employees: any = ref([])\nconst isLoading = ref(false)\nconst isLoadingFinalize = ref(false)\nconst isLoadingDelete = ref(false)\nconst showConditions = ref(false)\nconst activeConditions: any = ref(null)\nconst typeConditions: any = ref(0)\nconst isDeleting = ref(false)\nconst showConfirmDelete = ref(false)\nconst { notify } = useToast()\n\nonMounted(() => {\n  getData()\n  getEmployees()\n  getInteractions()\n})\n\nconst getData = async () => {\n  const data: any = await getOrderById(route.params.id)\n  order.value = {\n    _id: `000${data.id}-24`,\n    ...data,\n  }\n}\nconst getEmployees = async () => {\n  const data: any = await Employee.getActives()\n  employees.value = data.map((d: any) => ({\n    _id: `000${d.id}-24`,\n    ...d,\n  }))\n}\nconst getInteractions = async () => {\n  const data: any = await getAllOrderInteractions(+route.params.id)\n  interactions.value = data.map((e: any) => ({\n    ...e,\n  }))\n}\nconst formatDate = (date: any) => {\n  return format(new Date(date), 'dd/MM/yyyy hh:mm aa')\n}\nconst doRegister = async () => {\n  isLoading.value = true\n  await newOrderInteraction({\n    comment: comment.value,\n    quotation: +route.params.id,\n    user: null,\n  })\n\n  await getInteractions()\n\n  comment.value = ''\n  isLoading.value = false\n}\nconst doDelete = async (id: number) => {\n  await deleteOrderInteraction(id)\n}\nconst finalizeOrder = async () => {\n  isLoadingFinalize.value = true\n  await endOrder(+route.params.id)\n  await getData()\n  isLoadingFinalize.value = false\n}\nconst doDeleteOrder = async () => {\n  isLoadingDelete.value = true\n  await deleteOrder(+route.params.id)\n  await getData()\n  showConfirmDelete.value = false\n  isLoadingDelete.value = false\n  router.push('/orders')\n}\nconst deleteInteraction = async (e: any) => {\n  e.loading = true\n  await deleteOrderInteraction(e.id)\n  await getInteractions()\n  e.loading = false\n}\nconst doEnableOrder = async () => {\n  isLoadingFinalize.value = true\n  await enableOrder(+route.params.id)\n  await getData()\n  isLoadingFinalize.value = false\n}\nconst setDriver = async (vehicle: any, type = false) => {\n  if (!type) {\n    vehicle.loading = true\n    await setVehicleDriver(\n      {\n        vehicle: vehicle.id,\n        employee: vehicle.employee,\n      },\n      order.value.id,\n    )\n    vehicle.loading = false\n  } else {\n    vehicle.loading = true\n    await setExpenseEmployee(\n      {\n        expense: vehicle.id,\n        employee: vehicle.employee,\n      },\n      order.value.id,\n    )\n    vehicle.loading = false\n  }\n  notify({\n    message: 'Trabajador asignado correctamente',\n    color: 'success',\n    duration: 1000,\n  })\n}\n</script>\n\n<template>\n  <div v-if=\"order?._id\">\n    <div>\n      <div class=\"flex justify-between align-center\">\n        <h1 class=\"h5 font-bold m-0\">\n          Orden de trabajo:\n          <span class=\"text-primary font-bold pl-1\">#{{ order._id }}</span> <br />\n          <p class=\"text-sm font-medium\">\n            <VaBadge :text=\"order.service.services.service\" color=\"primary\" class=\"mr-2\" />\n          </p>\n        </h1>\n        <div class=\"flex gap-2\">\n          <div v-if=\"order.status !== 2\" class=\"grid-cols-3 space-x-2.5 pt-4\">\n            <VaButton icon=\"save\" color=\"success\" :loading=\"isLoadingFinalize\" @click=\"finalizeOrder\">\n              <span class=\"px-1\">Finalizar Orden</span>\n            </VaButton>\n            <VaButton icon=\"delete\" color=\"danger\" :loading=\"isLoadingDelete\" @click=\"showConfirmDelete = true\">\n              <span class=\"px-1\">{{ t('actions.delete') }}</span>\n            </VaButton>\n          </div>\n\n          <div v-if=\"order.status === 2\" class=\"grid-cols-3 space-x-2.5 pt-4\">\n            <VaButton icon=\"save\" color=\"info\" :loading=\"isLoadingFinalize\" @click=\"doEnableOrder\">\n              <span class=\"px-1\">Activar Orden</span>\n            </VaButton>\n          </div>\n        </div>\n      </div>\n      <hr class=\"mt-4 mb-2\" />\n    </div>\n\n    <div class=\"py-4 order-detail flex columns-2 gap-4\">\n      <div class=\"w-1/3 py-5 pt-0 px-3\">\n        <div class=\"text-center relative\">\n          <div class=\"mt-2\">\n            <h4 class=\"text-base font-black text-primary\">\n              {{ order.customer.fullname }}\n            </h4>\n            <p class=\"text-xs font-bold\">{{ order.customer.cellphone }}</p>\n            <!-- <div class=\"flex gap-2 justify-center mt-2\">\n              <VaIcon class=\"material-symbols-outlined cursor-pointer\"> mail </VaIcon>\n              <VaIcon class=\"material-symbols-outlined cursor-pointer\"> phone </VaIcon>\n            </div> -->\n            <div class=\"flex flex-wrap gap-2 mt-3 justify-center\">\n              <VaButton\n                v-if=\"order.service.specifications\"\n                size=\"small\"\n                class=\"text-xxs\"\n                @click=\"\n                  () => {\n                    showConditions = true\n                    typeConditions = 0\n                    activeConditions = order.service.specifications\n                  }\n                \"\n              >\n                Condiciones especificas\n              </VaButton>\n              <!-- <VaButton\n                size=\"small\"\n                class=\"text-xxs\"\n                @click=\"\n                  () => {\n                    showConditions = true\n                    typeConditions = 1\n                  }\n                \"\n              >\n                Condiciones\n              </VaButton> -->\n            </div>\n\n            <p class=\"text-xs mt-3 mb-3\">\n              <VaIcon size=\"14px\" class=\"material-symbols-outlined cursor-pointer text-green-600\">adjust</VaIcon>\n              Ultima actualización {{ formatDate(order.updated_at) }}\n            </p>\n          </div>\n        </div>\n\n        <hr class=\"mt-5 mb-2\" />\n\n        <div>\n          <VaTabs v-model=\"profileTabs\" center grow class=\"new-customer-tabs\">\n            <template #tabs>\n              <VaTab v-for=\"tab in ['Resumen', 'Vehiculos', 'Viaticos']\" :key=\"tab\" class=\"text-xs\">\n                {{ tab }}\n              </VaTab>\n            </template>\n\n            <template #default>\n              <div class=\"mt-4\">\n                <div v-if=\"profileTabs == 0\">\n                  <div class=\"bg-white p-4 rounded\" square outlined>\n                    <div class=\"flex flex-col gap-3\">\n                      <h2 class=\"text-sm font-bold text-primary\">Detalle de servicio:</h2>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Ruta:</p>\n                        <p>{{ order?.service.routes?.name }}</p>\n                      </div>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Tipo de ruta:</p>\n                        <p>{{ order?.service.route_type === 1 ? 'Ida y Vuelta' : 'Solo Ida' }}</p>\n                      </div>\n\n                      <div v-if=\"order?.service.kilometers\" class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Kilometros:</p>\n                        <p>{{ order?.service.kilometers }}</p>\n                      </div>\n\n                      <div v-if=\"order?.service.days\" class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Nro Días:</p>\n                        <p>{{ order?.service.days }}</p>\n                      </div>\n\n                      <div v-if=\"order?.service.passengers\" class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Pasajeros:</p>\n                        <p>{{ order?.service.passengers }}</p>\n                      </div>\n\n                      <hr v-if=\"order?.service.start_date\" />\n\n                      <div v-if=\"order?.service.start_date\" class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Inicio aproximado:</p>\n                        <p>{{ order?.service.start_date }}</p>\n                      </div>\n\n                      <div v-if=\"order?.service.end_date\" class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Fin aproximado:</p>\n                        <p>{{ order?.service.end_date }}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"bg-white p-4 rounded mt-3\" square outlined>\n                    <div class=\"flex flex-col gap-3\">\n                      <h2 class=\"text-sm font-bold text-primary\">Costo de servicio:</h2>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Peajes:</p>\n                        <p>S/ {{ order?.service.total_tolls }}</p>\n                      </div>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Vehículos:</p>\n                        <p>S/ {{ order?.service.total_vehicles }}</p>\n                      </div>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Viaticos:</p>\n                        <p>S/ {{ order?.service.total_expenses }}</p>\n                      </div>\n\n                      <div class=\"flex justify-between text-xs\">\n                        <p class=\"w-50 font-bold\">Monto Total:</p>\n                        <p>S/ {{ order?.service.total }}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div v-if=\"profileTabs == 1\" class=\"bg-white p-4 rounded\" square outlined>\n                  <div class=\"flex flex-col gap-3\">\n                    <VaCard v-for=\"i in order?.vehicles\" :key=\"i\" color=\"#eff6ff\">\n                      <VaCardTitle class=\"capitalize\">\n                        <span\n                          class=\"inline-flex items-center rounded-md bg-primary px-2 py-1 text-xxs font-bold text-white\"\n                        >\n                          {{ i.passengers }} Pasajeros\n                        </span>\n                      </VaCardTitle>\n                      <VaCardContent>\n                        <p class=\"text-sm mb-1 font-semibold uppercase\">{{ i.detail.name }}</p>\n                        <div class=\"bg-white px-1.5 pt-2 pb-3 rounded\">\n                          <p class=\"text-xs font-semibold mb-2\">\n                            {{ i.typedriver }}\n                          </p>\n\n                          <VaSelect\n                            v-model=\"i.employee\"\n                            placeholder=\"Selecciona un trabajador\"\n                            class=\"text-xss\"\n                            search-placeholder-text=\"Buscar\"\n                            text-by=\"names\"\n                            value-by=\"id\"\n                            :options=\"employees\"\n                            searchable\n                            highlight-matched-text\n                          />\n\n                          <VaButton\n                            size=\"small\"\n                            class=\"mr-6 mt-3 text-xxs\"\n                            :disabled=\"!i.employee\"\n                            :loading=\"i.loading\"\n                            @click=\"setDriver(i)\"\n                          >\n                            Asignar conductor\n                          </VaButton>\n                        </div>\n\n                        <p class=\"text-xs mt-2 flex justify-between\"><b>Tarifa conductor:</b> S/ {{ i.driverfee }}</p>\n                        <p class=\"text-xs mt-2 mb-1 flex justify-between\"><b>Cantidad:</b> {{ i.quantity }} Unidades</p>\n\n                        <p class=\"text-xs mt-2 flex justify-between\"><b>Tarifa:</b> S/ {{ i.total }}</p>\n                      </VaCardContent>\n                    </VaCard>\n                  </div>\n                </div>\n                <div v-if=\"profileTabs == 2\" class=\"bg-white flex flex-col p-4 gap-2 rounded\" square outlined>\n                  <div class=\"flex flex-col gap-3\">\n                    <VaCard v-for=\"i in order.service.expenses\" :key=\"i\" color=\"#eff6ff\">\n                      <VaCardTitle class=\"capitalize\">\n                        <span\n                          class=\"inline-flex items-center rounded-md bg-primary px-2 py-1 text-xxs font-bold text-white ring-1 ring-inset ring-gray-500/10\"\n                        >\n                          {{ i.name }}\n                        </span>\n                      </VaCardTitle>\n                      <VaCardContent>\n                        <!-- <p class=\"text-xs mt-1 flex\"><b class=\"pr-3\">Cantidad:</b> {{ i.quantity }}</p> -->\n                        <p class=\"text-xs mt-1\"><b class=\"pr-2\">Monto Unitario:</b> S/ {{ i.amount }}</p>\n                        <div class=\"bg-white px-1.5 pt-2 pb-3 mt-3 rounded\">\n                          <p class=\"text-xs font-semibold mb-2\">\n                            {{ i.typedriver }}\n                          </p>\n\n                          <VaSelect\n                            v-model=\"i.employee\"\n                            placeholder=\"Selecciona un trabajador\"\n                            class=\"text-xss\"\n                            search-placeholder-text=\"Buscar\"\n                            text-by=\"names\"\n                            value-by=\"id\"\n                            :options=\"employees\"\n                            searchable\n                            highlight-matched-text\n                          />\n\n                          <VaButton\n                            size=\"small\"\n                            class=\"mr-6 mt-3 text-xxs\"\n                            :disabled=\"!i.employee\"\n                            :loading=\"i.loading\"\n                            @click=\"setDriver(i, true)\"\n                          >\n                            Asignar trabajador\n                          </VaButton>\n                        </div>\n                      </VaCardContent>\n                    </VaCard>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </VaTabs>\n        </div>\n      </div>\n      <section class=\"flex flex-col w-2/3\">\n        <div class=\"bg-white p-3 mt-3\">\n          <div class=\"new-note mt-2\">\n            <VaInnerLoading :loading=\"isLoading\">\n              <VaCard color=\"#eff6ff\">\n                <VaCardTitle>Registrar un comentario</VaCardTitle>\n                <VaCardContent>\n                  <VaTextarea v-model=\"comment\" class=\"w-full\" background=\"#fff\" clearable />\n                </VaCardContent>\n                <VaCardActions align=\"right\">\n                  <VaButton :disabled=\"!comment\" @click=\"doRegister\">Registrar comentario</VaButton>\n                </VaCardActions>\n              </VaCard>\n            </VaInnerLoading>\n          </div>\n\n          <h3 class=\"text-xs font-bold my-4 underline\">Historial de interacciones:</h3>\n\n          <div class=\"list-notes\">\n            <div v-if=\"interactions.length\">\n              <VaListItem\n                v-for=\"(i, index) in interactions\"\n                :key=\"index\"\n                class=\"list__item mt-3 bg-blue-50 px-2 py-3 rounded-md\"\n              >\n                <VaListItemSection>\n                  <VaListItemLabel class=\"flex justify-between text-primary font-bold text-xs\">\n                    <span class=\"capitalize\">{{ i.creator.name }}</span>\n                    <VaBadge :text=\"formatDate(i.created_at)\" color=\"#fff\" class=\"ml-3\" />\n                  </VaListItemLabel>\n                  <VaListItemLabel class=\"text-black pt-2 text-xs\" caption :lines=\"index + 10\">\n                    {{ i.comment }}\n                  </VaListItemLabel>\n                </VaListItemSection>\n                <VaListItemSection icon>\n                  <VaButton\n                    round\n                    class=\"cursor-pointer\"\n                    color=\"danger\"\n                    icon=\"delete\"\n                    :loading=\"i.loading\"\n                    @click=\"deleteInteraction(i)\"\n                  />\n                </VaListItemSection>\n              </VaListItem>\n            </div>\n\n            <VaAlert v-if=\"!interactions.length\" class=\"text-xs\" color=\"#fdeae7\" text-color=\"#940909\">\n              No existe actividad en esta orden.\n            </VaAlert>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n\n  <VaModal v-model=\"showConfirm\" size=\"250px\" hide-default-actions no-dismiss>\n    <p class=\"text-sm\">¿Deseas eliminar este comentario?</p>\n    <template #footer>\n      <VaButton size=\"small\" preset=\"secondary\" class=\"mr-1\" @click=\"showConfirm = null\"> Cancelar</VaButton>\n      <VaButton size=\"small\" :loading=\"isDeleting\" @click=\"doDelete\"> Continuar</VaButton>\n    </template>\n  </VaModal>\n\n  <VaModal v-model=\"showConditions\" size=\"600px\" hide-default-actions no-dismiss>\n    <p class=\"text-sm font-semibold text-primary\">\n      {{ !typeConditions ? 'Condiciones Especificas' : 'Condiciones Generales' }}\n    </p>\n    <hr class=\"my-3\" />\n    <div class=\"py-3 px-2 text-xs bg-white rounded\" v-html=\"activeConditions\"></div>\n    <template #footer>\n      <VaButton\n        size=\"small\"\n        preset=\"secondary\"\n        class=\"mr-1\"\n        @click=\"\n          () => {\n            showConditions = false\n            activeConditions = ''\n          }\n        \"\n      >\n        Cerrar condiciones</VaButton\n      >\n    </template>\n  </VaModal>\n\n  <VaModal v-model=\"showConfirmDelete\" size=\"250px\" hide-default-actions no-dismiss>\n    <p class=\"text-sm\">¿Deseas eliminar esta orden?</p>\n    <p class=\"text-xs mt-2\">\n      Se eliminara todo el historico de esta orden, el estado de la cotización volvera a\n      <span class=\"font-bold\">Aprobado</span>.\n    </p>\n    <template #footer>\n      <VaButton size=\"small\" preset=\"secondary\" class=\"mr-1\" @click=\"showConfirmDelete = false\"> Cancelar</VaButton>\n      <VaButton size=\"small\" :loading=\"isDeleting\" @click=\"doDeleteOrder\"> Continuar</VaButton>\n    </template>\n  </VaModal>\n</template>\n\n<style lang=\"scss\">\n.order-detail {\n  &-tabs {\n    .va-tabs__content {\n      width: 100%;\n    }\n  }\n\n  .va-button--small .va-button__content {\n    text-transform: none;\n  }\n\n  .va-input-wrapper__text {\n    font-size: 11px;\n  }\n}\n</style>\n<div class=\"\"></div>\n"],"names":["services","API","_token","getAllOrderInteractions","id","requestOptions","res","response","deleteOrderInteraction","newOrderInteraction","body","profileTabs","ref","showConfirm","router","useRouter","t","useI18n","order","comment","route","useRoute","interactions","employees","isLoading","isLoadingFinalize","isLoadingDelete","showConditions","activeConditions","typeConditions","isDeleting","showConfirmDelete","notify","useToast","onMounted","getData","getEmployees","getInteractions","data","getOrderById","Employee","d","e","formatDate","date","format","doRegister","doDelete","finalizeOrder","endOrder","doDeleteOrder","deleteOrder","deleteInteraction","doEnableOrder","enableOrder","setDriver","vehicle","type","setExpenseEmployee","setVehicleDriver"],"mappings":"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"}