{"version":3,"file":"ViewOrder-a4022d52.js","sources":["../../src/core/requests/OrdersInteractions.ts","../../src/pages/orders/pages/ViewOrder.vue"],"sourcesContent":["import { API } from '../constants'\r\n\r\nconst services = {\r\n  list: API + '/orders/interactions',\r\n  byid: API + '/orders/interactions',\r\n  delete: API + '/orders/interactions',\r\n  register: API + '/orders/interactions',\r\n}\r\n\r\nconst _token = localStorage.getItem('__token')\r\n\r\nexport async function getAllOrderInteractions(id: number) {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: 'Bearer ' + _token,\r\n    },\r\n  }\r\n  let res = null\r\n\r\n  await fetch(`${services.list}/${id}`, requestOptions).then((response) => {\r\n    res = response.json()\r\n  })\r\n\r\n  return res\r\n}\r\n\r\nexport async function deleteOrderInteraction(id: any) {\r\n  const requestOptions = {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: 'Bearer ' + _token,\r\n    },\r\n  }\r\n  let res = null\r\n\r\n  await fetch(`${services.list}/${id}`, requestOptions).then((response) => {\r\n    res = response.json()\r\n  })\r\n\r\n  return res\r\n}\r\n\r\nexport async function newOrderInteraction(body: any) {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: 'Bearer ' + _token,\r\n    },\r\n    body: JSON.stringify(body),\r\n  }\r\n  let res = null\r\n\r\n  await fetch(services.register, requestOptions).then((response) => {\r\n    res = response.json()\r\n  })\r\n\r\n  return res\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { onMounted, ref } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { useToast, VaIcon } from 'vuestic-ui'\r\nimport {\r\n  deleteOrder,\r\n  enableOrder,\r\n  endOrder,\r\n  getOrderById,\r\n  setExpenseEmployee,\r\n  setVehicleDriver,\r\n} from '../../../core/requests/Orders'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { format } from 'date-fns'\r\nimport {\r\n  deleteOrderInteraction,\r\n  getAllOrderInteractions,\r\n  newOrderInteraction,\r\n} from '../../../core/requests/OrdersInteractions'\r\nimport Employee from '../../../core/requests/Employee'\r\n\r\nconst profileTabs = ref(0)\r\nconst showConfirm: any = ref(null)\r\nconst router = useRouter()\r\nconst { t } = useI18n()\r\nconst order: any = ref(null)\r\nconst comment = ref('')\r\nconst route = useRoute()\r\nconst interactions: any = ref([])\r\nconst employees: any = ref([])\r\nconst isLoading = ref(false)\r\nconst isLoadingFinalize = ref(false)\r\nconst isLoadingDelete = ref(false)\r\nconst showConditions = ref(false)\r\nconst activeConditions: any = ref(null)\r\nconst typeConditions: any = ref(0)\r\nconst isDeleting = ref(false)\r\nconst showConfirmDelete = ref(false)\r\nconst { notify } = useToast()\r\n\r\nonMounted(() => {\r\n  getData()\r\n  getEmployees()\r\n  getInteractions()\r\n})\r\n\r\nconst getData = async () => {\r\n  const data: any = await getOrderById(route.params.id)\r\n  order.value = {\r\n    _id: `000${data.id}-24`,\r\n    ...data,\r\n  }\r\n}\r\nconst getEmployees = async () => {\r\n  const data: any = await Employee.getActives()\r\n  employees.value = data.map((d: any) => ({\r\n    _id: `000${d.id}-24`,\r\n    ...d,\r\n  }))\r\n}\r\nconst getInteractions = async () => {\r\n  const data: any = await getAllOrderInteractions(+route.params.id)\r\n  interactions.value = data.map((e: any) => ({\r\n    ...e,\r\n  }))\r\n}\r\nconst formatDate = (date: any) => {\r\n  return format(new Date(date), 'dd/MM/yyyy hh:mm aa')\r\n}\r\nconst doRegister = async () => {\r\n  isLoading.value = true\r\n  await newOrderInteraction({\r\n    comment: comment.value,\r\n    quotation: +route.params.id,\r\n    user: null,\r\n  })\r\n\r\n  await getInteractions()\r\n\r\n  comment.value = ''\r\n  isLoading.value = false\r\n}\r\nconst doDelete = async (id: number) => {\r\n  await deleteOrderInteraction(id)\r\n}\r\nconst finalizeOrder = async () => {\r\n  isLoadingFinalize.value = true\r\n  await endOrder(+route.params.id)\r\n  await getData()\r\n  isLoadingFinalize.value = false\r\n}\r\nconst doDeleteOrder = async () => {\r\n  isLoadingDelete.value = true\r\n  await deleteOrder(+route.params.id)\r\n  await getData()\r\n  showConfirmDelete.value = false\r\n  isLoadingDelete.value = false\r\n  router.push('/orders')\r\n}\r\nconst deleteInteraction = async (e: any) => {\r\n  e.loading = true\r\n  await deleteOrderInteraction(e.id)\r\n  await getInteractions()\r\n  e.loading = false\r\n}\r\nconst doEnableOrder = async () => {\r\n  isLoadingFinalize.value = true\r\n  await enableOrder(+route.params.id)\r\n  await getData()\r\n  isLoadingFinalize.value = false\r\n}\r\nconst setDriver = async (vehicle: any, type = false) => {\r\n  if (!type) {\r\n    vehicle.loading = true\r\n    await setVehicleDriver(\r\n      {\r\n        vehicle: vehicle.id,\r\n        employee: vehicle.employee,\r\n      },\r\n      order.value.id,\r\n    )\r\n    vehicle.loading = false\r\n  } else {\r\n    vehicle.loading = true\r\n    await setExpenseEmployee(\r\n      {\r\n        expense: vehicle.id,\r\n        employee: vehicle.employee,\r\n      },\r\n      order.value.id,\r\n    )\r\n    vehicle.loading = false\r\n  }\r\n  notify({\r\n    message: 'Trabajador asignado correctamente',\r\n    color: 'success',\r\n    duration: 1000,\r\n  })\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"order?._id\">\r\n    <div>\r\n      <div class=\"flex justify-between align-center\">\r\n        <h1 class=\"h5 font-bold m-0\">\r\n          Orden de trabajo:\r\n          <span class=\"text-primary font-bold pl-1\">#{{ order._id }}</span> <br />\r\n          <p class=\"text-sm font-medium\">\r\n            <VaBadge :text=\"order.service.services.service\" color=\"primary\" class=\"mr-2\" />\r\n          </p>\r\n        </h1>\r\n        <div class=\"flex gap-2\">\r\n          <div v-if=\"order.status !== 2\" class=\"grid-cols-3 space-x-2.5 pt-4\">\r\n            <VaButton icon=\"save\" color=\"success\" :loading=\"isLoadingFinalize\" @click=\"finalizeOrder\">\r\n              <span class=\"px-1\">Finalizar Orden</span>\r\n            </VaButton>\r\n            <VaButton icon=\"delete\" color=\"danger\" :loading=\"isLoadingDelete\" @click=\"showConfirmDelete = true\">\r\n              <span class=\"px-1\">{{ t('actions.delete') }}</span>\r\n            </VaButton>\r\n          </div>\r\n\r\n          <div v-if=\"order.status === 2\" class=\"grid-cols-3 space-x-2.5 pt-4\">\r\n            <VaButton icon=\"save\" color=\"info\" :loading=\"isLoadingFinalize\" @click=\"doEnableOrder\">\r\n              <span class=\"px-1\">Activar Orden</span>\r\n            </VaButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr class=\"mt-4 mb-2\" />\r\n    </div>\r\n\r\n    <div class=\"py-4 order-detail flex columns-2 gap-4\">\r\n      <div class=\"w-1/3 py-5 pt-0 px-3\">\r\n        <div class=\"text-center relative\">\r\n          <div class=\"mt-2\">\r\n            <h4 class=\"text-base font-black text-primary\">\r\n              {{ order.customer.fullname }}\r\n            </h4>\r\n            <p class=\"text-xs font-bold\">{{ order.customer.cellphone }}</p>\r\n            <!-- <div class=\"flex gap-2 justify-center mt-2\">\r\n              <VaIcon class=\"material-symbols-outlined cursor-pointer\"> mail </VaIcon>\r\n              <VaIcon class=\"material-symbols-outlined cursor-pointer\"> phone </VaIcon>\r\n            </div> -->\r\n            <div class=\"flex flex-wrap gap-2 mt-3 justify-center\">\r\n              <VaButton\r\n                v-if=\"order.service.specifications\"\r\n                size=\"small\"\r\n                class=\"text-xxs\"\r\n                @click=\"\r\n                  () => {\r\n                    showConditions = true\r\n                    typeConditions = 0\r\n                    activeConditions = order.service.specifications\r\n                  }\r\n                \"\r\n              >\r\n                Condiciones especificas\r\n              </VaButton>\r\n              <!-- <VaButton\r\n                size=\"small\"\r\n                class=\"text-xxs\"\r\n                @click=\"\r\n                  () => {\r\n                    showConditions = true\r\n                    typeConditions = 1\r\n                  }\r\n                \"\r\n              >\r\n                Condiciones\r\n              </VaButton> -->\r\n            </div>\r\n\r\n            <p class=\"text-xs mt-3 mb-3\">\r\n              <VaIcon size=\"14px\" class=\"material-symbols-outlined cursor-pointer text-green-600\">adjust</VaIcon>\r\n              Ultima actualizaci√≥n {{ formatDate(order.updated_at) }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <hr class=\"mt-5 mb-2\" />\r\n\r\n        <div>\r\n          <VaTabs v-model=\"profileTabs\" center grow class=\"new-customer-tabs\">\r\n            <template #tabs>\r\n              <VaTab v-for=\"tab in ['Resumen', 'Vehiculos', 'Viaticos']\" :key=\"tab\" class=\"text-xs\">\r\n                {{ tab }}\r\n              </VaTab>\r\n            </template>\r\n\r\n            <template #default>\r\n              <div class=\"mt-4\">\r\n                <div v-if=\"profileTabs == 0\">\r\n                  <div class=\"bg-white p-4 rounded\" square outlined>\r\n                    <div class=\"flex flex-col gap-3\">\r\n                      <h2 class=\"text-sm font-bold text-primary\">Detalle de servicio:</h2>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Ruta:</p>\r\n                        <p>{{ order?.service.routes?.name }}</p>\r\n                      </div>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Tipo de ruta:</p>\r\n                        <p>{{ order?.service.route_type === 1 ? 'Ida y Vuelta' : 'Solo Ida' }}</p>\r\n                      </div>\r\n\r\n                      <div v-if=\"order?.service.kilometers\" class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Kilometros:</p>\r\n                        <p>{{ order?.service.kilometers }}</p>\r\n                      </div>\r\n\r\n                      <div v-if=\"order?.service.days\" class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Nro D√≠as:</p>\r\n                        <p>{{ order?.service.days }}</p>\r\n                      </div>\r\n\r\n                      <div v-if=\"order?.service.passengers\" class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Pasajeros:</p>\r\n                        <p>{{ order?.service.passengers }}</p>\r\n                      </div>\r\n\r\n                      <hr v-if=\"order?.service.start_date\" />\r\n\r\n                      <div v-if=\"order?.service.start_date\" class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Inicio aproximado:</p>\r\n                        <p>{{ order?.service.start_date }}</p>\r\n                      </div>\r\n\r\n                      <div v-if=\"order?.service.end_date\" class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Fin aproximado:</p>\r\n                        <p>{{ order?.service.end_date }}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"bg-white p-4 rounded mt-3\" square outlined>\r\n                    <div class=\"flex flex-col gap-3\">\r\n                      <h2 class=\"text-sm font-bold text-primary\">Costo de servicio:</h2>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Peajes:</p>\r\n                        <p>S/ {{ order?.service.total_tolls }}</p>\r\n                      </div>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Veh√≠culos:</p>\r\n                        <p>S/ {{ order?.service.total_vehicles }}</p>\r\n                      </div>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Viaticos:</p>\r\n                        <p>S/ {{ order?.service.total_expenses }}</p>\r\n                      </div>\r\n\r\n                      <div class=\"flex justify-between text-xs\">\r\n                        <p class=\"w-50 font-bold\">Monto Total:</p>\r\n                        <p>S/ {{ order?.service.total }}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-if=\"profileTabs == 1\" class=\"bg-white p-4 rounded\" square outlined>\r\n                  <div class=\"flex flex-col gap-3\">\r\n                    <VaCard v-for=\"i in order?.vehicles\" :key=\"i\" color=\"#eff6ff\">\r\n                      <VaCardTitle class=\"capitalize\">\r\n                        <span\r\n                          class=\"inline-flex items-center rounded-md bg-primary px-2 py-1 text-xxs font-bold text-white\"\r\n                        >\r\n                          {{ i.passengers }} Pasajeros\r\n                        </span>\r\n                      </VaCardTitle>\r\n                      <VaCardContent>\r\n                        <p class=\"text-sm mb-1 font-semibold uppercase\">{{ i.detail.name }}</p>\r\n                        <div class=\"bg-white px-1.5 pt-2 pb-3 rounded\">\r\n                          <p class=\"text-xs font-semibold mb-2\">\r\n                            {{ i.typedriver }}\r\n                          </p>\r\n\r\n                          <VaSelect\r\n                            v-model=\"i.employee\"\r\n                            placeholder=\"Selecciona un trabajador\"\r\n                            class=\"text-xss\"\r\n                            search-placeholder-text=\"Buscar\"\r\n                            text-by=\"names\"\r\n                            value-by=\"id\"\r\n                            :options=\"employees\"\r\n                            searchable\r\n                            highlight-matched-text\r\n                          />\r\n\r\n                          <VaButton\r\n                            size=\"small\"\r\n                            class=\"mr-6 mt-3 text-xxs\"\r\n                            :disabled=\"!i.employee\"\r\n                            :loading=\"i.loading\"\r\n                            @click=\"setDriver(i)\"\r\n                          >\r\n                            Asignar conductor\r\n                          </VaButton>\r\n                        </div>\r\n\r\n                        <p class=\"text-xs mt-2 flex justify-between\"><b>Tarifa conductor:</b> S/ {{ i.driverfee }}</p>\r\n                        <p class=\"text-xs mt-2 mb-1 flex justify-between\"><b>Cantidad:</b> {{ i.quantity }} Unidades</p>\r\n\r\n                        <p class=\"text-xs mt-2 flex justify-between\"><b>Tarifa:</b> S/ {{ i.total }}</p>\r\n                      </VaCardContent>\r\n                    </VaCard>\r\n                  </div>\r\n                </div>\r\n                <div v-if=\"profileTabs == 2\" class=\"bg-white flex flex-col p-4 gap-2 rounded\" square outlined>\r\n                  <div class=\"flex flex-col gap-3\">\r\n                    <VaCard v-for=\"i in order.service.expenses\" :key=\"i\" color=\"#eff6ff\">\r\n                      <VaCardTitle class=\"capitalize\">\r\n                        <span\r\n                          class=\"inline-flex items-center rounded-md bg-primary px-2 py-1 text-xxs font-bold text-white ring-1 ring-inset ring-gray-500/10\"\r\n                        >\r\n                          {{ i.name }}\r\n                        </span>\r\n                      </VaCardTitle>\r\n                      <VaCardContent>\r\n                        <!-- <p class=\"text-xs mt-1 flex\"><b class=\"pr-3\">Cantidad:</b> {{ i.quantity }}</p> -->\r\n                        <p class=\"text-xs mt-1\"><b class=\"pr-2\">Monto Unitario:</b> S/ {{ i.amount }}</p>\r\n                        <div class=\"bg-white px-1.5 pt-2 pb-3 mt-3 rounded\">\r\n                          <p class=\"text-xs font-semibold mb-2\">\r\n                            {{ i.typedriver }}\r\n                          </p>\r\n\r\n                          <VaSelect\r\n                            v-model=\"i.employee\"\r\n                            placeholder=\"Selecciona un trabajador\"\r\n                            class=\"text-xss\"\r\n                            search-placeholder-text=\"Buscar\"\r\n                            text-by=\"names\"\r\n                            value-by=\"id\"\r\n                            :options=\"employees\"\r\n                            searchable\r\n                            highlight-matched-text\r\n                          />\r\n\r\n                          <VaButton\r\n                            size=\"small\"\r\n                            class=\"mr-6 mt-3 text-xxs\"\r\n                            :disabled=\"!i.employee\"\r\n                            :loading=\"i.loading\"\r\n                            @click=\"setDriver(i, true)\"\r\n                          >\r\n                            Asignar trabajador\r\n                          </VaButton>\r\n                        </div>\r\n                      </VaCardContent>\r\n                    </VaCard>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </VaTabs>\r\n        </div>\r\n      </div>\r\n      <section class=\"flex flex-col w-2/3\">\r\n        <div class=\"bg-white p-3 mt-3\">\r\n          <div class=\"new-note mt-2\">\r\n            <VaInnerLoading :loading=\"isLoading\">\r\n              <VaCard color=\"#eff6ff\">\r\n                <VaCardTitle>Registrar un comentario</VaCardTitle>\r\n                <VaCardContent>\r\n                  <VaTextarea v-model=\"comment\" class=\"w-full\" background=\"#fff\" clearable />\r\n                </VaCardContent>\r\n                <VaCardActions align=\"right\">\r\n                  <VaButton :disabled=\"!comment\" @click=\"doRegister\">Registrar comentario</VaButton>\r\n                </VaCardActions>\r\n              </VaCard>\r\n            </VaInnerLoading>\r\n          </div>\r\n\r\n          <h3 class=\"text-xs font-bold my-4 underline\">Historial de interacciones:</h3>\r\n\r\n          <div class=\"list-notes\">\r\n            <div v-if=\"interactions.length\">\r\n              <VaListItem\r\n                v-for=\"(i, index) in interactions\"\r\n                :key=\"index\"\r\n                class=\"list__item mt-3 bg-blue-50 px-2 py-3 rounded-md\"\r\n              >\r\n                <VaListItemSection>\r\n                  <VaListItemLabel class=\"flex justify-between text-primary font-bold text-xs\">\r\n                    <span class=\"capitalize\">{{ i.creator.name }}</span>\r\n                    <VaBadge :text=\"formatDate(i.created_at)\" color=\"#fff\" class=\"ml-3\" />\r\n                  </VaListItemLabel>\r\n                  <VaListItemLabel class=\"text-black pt-2 text-xs\" caption :lines=\"index + 10\">\r\n                    {{ i.comment }}\r\n                  </VaListItemLabel>\r\n                </VaListItemSection>\r\n                <VaListItemSection icon>\r\n                  <VaButton\r\n                    round\r\n                    class=\"cursor-pointer\"\r\n                    color=\"danger\"\r\n                    icon=\"delete\"\r\n                    :loading=\"i.loading\"\r\n                    @click=\"deleteInteraction(i)\"\r\n                  />\r\n                </VaListItemSection>\r\n              </VaListItem>\r\n            </div>\r\n\r\n            <VaAlert v-if=\"!interactions.length\" class=\"text-xs\" color=\"#fdeae7\" text-color=\"#940909\">\r\n              No existe actividad en esta orden.\r\n            </VaAlert>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n\r\n  <VaModal v-model=\"showConfirm\" size=\"250px\" hide-default-actions no-dismiss>\r\n    <p class=\"text-sm\">¬øDeseas eliminar este comentario?</p>\r\n    <template #footer>\r\n      <VaButton size=\"small\" preset=\"secondary\" class=\"mr-1\" @click=\"showConfirm = null\"> Cancelar</VaButton>\r\n      <VaButton size=\"small\" :loading=\"isDeleting\" @click=\"doDelete\"> Continuar</VaButton>\r\n    </template>\r\n  </VaModal>\r\n\r\n  <VaModal v-model=\"showConditions\" size=\"600px\" hide-default-actions no-dismiss>\r\n    <p class=\"text-sm font-semibold text-primary\">\r\n      {{ !typeConditions ? 'Condiciones Especificas' : 'Condiciones Generales' }}\r\n    </p>\r\n    <hr class=\"my-3\" />\r\n    <div class=\"py-3 px-2 text-xs bg-white rounded\" v-html=\"activeConditions\"></div>\r\n    <template #footer>\r\n      <VaButton\r\n        size=\"small\"\r\n        preset=\"secondary\"\r\n        class=\"mr-1\"\r\n        @click=\"\r\n          () => {\r\n            showConditions = false\r\n            activeConditions = ''\r\n          }\r\n        \"\r\n      >\r\n        Cerrar condiciones</VaButton\r\n      >\r\n    </template>\r\n  </VaModal>\r\n\r\n  <VaModal v-model=\"showConfirmDelete\" size=\"250px\" hide-default-actions no-dismiss>\r\n    <p class=\"text-sm\">¬øDeseas eliminar esta orden?</p>\r\n    <p class=\"text-xs mt-2\">\r\n      Se eliminara todo el historico de esta orden, el estado de la cotizaci√≥n volvera a\r\n      <span class=\"font-bold\">Aprobado</span>.\r\n    </p>\r\n    <template #footer>\r\n      <VaButton size=\"small\" preset=\"secondary\" class=\"mr-1\" @click=\"showConfirmDelete = false\"> Cancelar</VaButton>\r\n      <VaButton size=\"small\" :loading=\"isDeleting\" @click=\"doDeleteOrder\"> Continuar</VaButton>\r\n    </template>\r\n  </VaModal>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.order-detail {\r\n  &-tabs {\r\n    .va-tabs__content {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .va-button--small .va-button__content {\r\n    text-transform: none;\r\n  }\r\n\r\n  .va-input-wrapper__text {\r\n    font-size: 11px;\r\n  }\r\n}\r\n</style>\r\n<div class=\"\"></div>\r\n"],"names":["services","API","_token","getAllOrderInteractions","id","requestOptions","res","response","deleteOrderInteraction","newOrderInteraction","body","profileTabs","ref","showConfirm","router","useRouter","t","useI18n","order","comment","route","useRoute","interactions","employees","isLoading","isLoadingFinalize","isLoadingDelete","showConditions","activeConditions","typeConditions","isDeleting","showConfirmDelete","notify","useToast","onMounted","getData","getEmployees","getInteractions","data","getOrderById","Employee","d","e","formatDate","date","format","doRegister","doDelete","finalizeOrder","endOrder","doDeleteOrder","deleteOrder","deleteInteraction","doEnableOrder","enableOrder","setDriver","vehicle","type","setExpenseEmployee","setVehicleDriver"],"mappings":"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"}